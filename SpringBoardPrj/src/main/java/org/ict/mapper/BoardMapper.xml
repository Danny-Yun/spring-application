<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybais.rg/dtd/mybatis-3-mapper.dtd">
<!-- 위의 스키마 작성 후, 어떤 인터페이스의 메서드를 쿼리문과 연결해줄지 아래와 같이 
	인터페이스 파일부터 mapper태그로 연결한다.  -->
<mapper namespace="org.ict.mapper.BoardMapper">
	
	<!-- 위의 BoardMapper 인터페이스의 getList메서드를 호출시 실제로 실행할
		쿼리문을 아래와 같이 연결해준다. mybatis는 단일자료와 리스트자료를 
		구분하지 않기 때문에 resultType에는 List<> 자료형도 아래와 같이 단일 
		VO만 적여주면 된다. -->
	<select id="getList" resultType="org.ict.domain.BoardVO">
		<!-- <이나 >과 같이 태그로 오인될 수 있는 문자를 포함하는 쿼리문은
			그냥 작성하지 않고, CDATA를 이용하면 된다. 아래와 같이 
			<![CDATA[ 실행문 ]]>과 같이 실행문을 CDATA내부에 작성하면 
			내부의 부등호는 전부 문자로 간주된다. -->
		<![CDATA[
			SELECT * FROM board_tbl WHRER b_no < 4
		]]>
	</select>
	
	<!-- 현재 insert는 BoardVO를 파라미터로 받고 있기 때문에 
		VO 내부 변수를 #{변수명} 으로 쿼리문에 전달할 수 있다. -->
	<insert id="insert">
		INSERT INTO board_tbl (b_no, b_title, b_content, b_writer) 
			VALUES (board_num.nextval, #{b_title}, #{b_content}, #{b_writer})
	</insert>
	
	<select id="select" resultType="org.ict.domain.BoardVO">
		SELECT * FROM board_tbl WHERE b_no=#{b_no}
	</select>
	
</mapper>